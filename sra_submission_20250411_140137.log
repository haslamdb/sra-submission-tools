2025-04-11 14:01:37,266 - src.sra_metagenome_submission.main - INFO - Logging to sra_submission_20250411_140137.log
2025-04-11 14:01:37,267 - __main__ - INFO - Logging to sra_validation_hellman_patched_20250411_140137.log
2025-04-11 14:01:37,267 - __main__ - INFO - Using validation name: hellman_patched
2025-04-11 14:01:37,267 - __main__ - INFO - Loaded configuration from dbh_config.json
2025-04-11 14:01:37,267 - __main__ - INFO - No output location specified, using default: validated_metadata
2025-04-11 14:01:37,271 - __main__ - INFO - Loaded sample metadata from metadata_files/hellman-sample-metadata1.txt
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'assembly' is missing data for 149 sample rows.
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'filename3' is missing data for 149 sample rows.
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'filename4' is missing data for 149 sample rows.
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'filename5' is missing data for 149 sample rows.
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'filename6' is missing data for 149 sample rows.
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'filename7' is missing data for 149 sample rows.
2025-04-11 14:01:37,369 - __main__ - WARNING - Column 'filename8' is missing data for 149 sample rows.
2025-04-11 14:01:37,378 - __main__ - INFO - Validated sample metadata
2025-04-11 14:01:37,380 - __main__ - INFO - Saved validated metadata to validated_metadata/validated-hellman-sample-metadata1.txt
2025-04-11 14:01:37,380 - __main__ - INFO - Saved validated sample metadata to validated_metadata/validated-hellman-sample-metadata1.txt
2025-04-11 14:01:37,382 - __main__ - INFO - Loaded bioproject metadata from metadata_files/hellman-bioproject-metadata1.txt
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'sample_title' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'bioproject_accession' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'ref_biomaterial' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'rel_to_oxygen' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'samp_collect_device' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'samp_mat_process' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'samp_size' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'source_material_id' is missing data for 149 sample rows.
2025-04-11 14:01:37,435 - __main__ - WARNING - Column 'description' is missing data for 149 sample rows.
2025-04-11 14:01:37,438 - __main__ - WARNING - Error validating date at row 0: '7/24/2017' - 'collection_date'
2025-04-11 14:01:37,438 - __main__ - ERROR - Error during collection_date validation: 'collection_date'
2025-04-11 14:01:37,438 - __main__ - ERROR - Traceback (most recent call last):
  File "/home/david/Documents/Code/sra-submission-tools/src/sra_metagenome_submission/sra_validate.py", line 659, in validate_bioproject_metadata
    if value != default_values['collection_date'] and pd.notna(value) and str(value).strip() != '':
KeyError: 'collection_date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/david/Documents/Code/sra-submission-tools/src/sra_metagenome_submission/sra_validate.py", line 663, in validate_bioproject_metadata
    validated_df.at[idx, 'collection_date'] = default_values['collection_date']
KeyError: 'collection_date'

2025-04-11 14:01:37,447 - __main__ - INFO - Validated bioproject metadata
2025-04-11 14:01:37,449 - __main__ - INFO - Saved validated metadata to validated_metadata/validated-hellman-bioproject-metadata1.txt
2025-04-11 14:01:37,449 - __main__ - INFO - Saved validated bioproject metadata to validated_metadata/validated-hellman-bioproject-metadata1.txt
